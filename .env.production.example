# ============================================================================
# SEFAZ XML Sync - Variáveis de Ambiente PRODUÇÃO
# ============================================================================
# INSTRUÇÕES:
# 1. Copie este arquivo: cp .env.production.example .env.production
# 2. Preencha TODAS as variáveis abaixo com valores reais
# 3. NUNCA comite .env.production no Git (já está no .gitignore)
# ============================================================================

# ============================================================================
# APLICAÇÃO
# ============================================================================
NODE_ENV=production
PORT=5000

# ============================================================================
# SUPABASE - BANCO DE DADOS PRODUÇÃO
# ============================================================================
# URL do projeto Supabase (exemplo: https://xxxxx.supabase.co)
SUPABASE_URL=https://seu-projeto.supabase.co

# Chave anônima pública (safe para frontend)
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.seu_token_anonimo

# Chave de serviço (ATENÇÃO: NUNCA expor no frontend!)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.seu_token_service_role

# ============================================================================
# SESSION (Express Session)
# ============================================================================
# Gere um secret forte: openssl rand -base64 32
SESSION_SECRET=SUBSTITUA_POR_UM_SECRET_ALEATORIO_FORTE_GERADO_COM_OPENSSL

# ============================================================================
# TIMEZONE
# ============================================================================
TZ=America/Sao_Paulo

# ============================================================================
# SEFAZ - CONFIGURAÇÕES (OPCIONAL - sobrescreve defaults)
# ============================================================================
# Ambiente SEFAZ: 1=Produção, 2=Homologação
# SEFAZ_AMBIENTE=1

# Timeout das requisições SOAP (em milissegundos)
# SEFAZ_TIMEOUT=30000

# Intervalo de sincronização automática (em minutos)
# SYNC_INTERVAL=60

# ============================================================================
# STORAGE - TIPO DE ARMAZENAMENTO DOS XMLS
# ============================================================================
# local = filesystem local (dentro do container, usar volume Docker)
# supabase = Supabase Storage (bucket)
# STORAGE_TYPE=local

# ============================================================================
# LOGS - NÍVEL DE LOGGING
# ============================================================================
# Níveis permitidos: info, warning, error
LOG_LEVEL=info

# ============================================================================
# CORS - CONFIGURAÇÃO (se necessário)
# ============================================================================
# Lista de origens permitidas (separadas por vírgula)
# CORS_ORIGINS=https://downloadsefaz.dibs.com.br

# ============================================================================
# RATE LIMITING - PROTEÇÃO CONTRA ABUSO
# ============================================================================
# Máximo de requisições por IP por minuto
# RATE_LIMIT_MAX=100

# ============================================================================
# CERTIFICADOS DIGITAIS A1
# ============================================================================
# Caminho dos certificados (dentro do container)
# CERT_PATH=/app/certificados

# ============================================================================
# OBSERVAÇÕES IMPORTANTES
# ============================================================================
# 1. SUPABASE_URL, SUPABASE_ANON_KEY e SUPABASE_SERVICE_ROLE_KEY são OBRIGATÓRIOS
# 2. SESSION_SECRET DEVE ser um valor aleatório e NUNCA deve ser compartilhado
# 3. Para gerar SESSION_SECRET seguro: openssl rand -base64 32
# 4. Certifique-se que .env.production está no .gitignore
# 5. Use Docker Secrets ou variáveis de ambiente do Portainer para maior segurança
